# Antigo gerador de OATH'S
'''
# SERÃ SUBSTITUIDO POR GERAR_OATHS, USAREI UMA FUNÃ‡ÃƒO SEPARADA SO PARA GERAR OS OATHS
# EM VEZ DE UMA FUNÃ‡ÃƒO QUE COLETE OS DADOS, GERE E EXIBA, IREI SEPARAR ESSE PROCESSO CADA
# UM SEM SUA DETERMINADA FUNÃ‡ÃƒO:
# NÃƒO IREI APAGAR ESSE ARQUIVO. USAREI COMO UM BACKUP PARA CASO DE MERDA NA NOVA FUNCIONALIDADE

# ImportaÃ§Ãµes de bibliotecas:
import os
import time
import random
# ImportaÃ§Ãµes gerais:
from Gerar_Nomes import Gerar_Nomes_Random
from Regras_dados import Tiercomum, Tierslenda
from Evolucao_Oath import evo_oath
from Probabilidades import valores, peso, valoreslend, pesolend, limite_maxatri, limite_minatri
from Dados_importantes import vantagens, estilos, tipos

# FunÃ§Ãµes Ãšteis:
def limpar():
    if os.name == 'nt':  # Windows
        os.system('cls')

# GeraÃ§Ã£o de Oath's LendÃ¡rios:
def Gerar_Lend():
    
    limite = 0
    tier = 0
    lendario = {'ForÃ§a': 0, 'Destreza': 0, 'Poder MÃ¡gico': 0, 'Durabilidade': 0, 'Foco': 0}

    # Converte as chaves dos dicionÃ¡rios em LISTA para sorteio com random.choice:
    vant = list(vantagens.keys())
    est = list(estilos.keys())
    
    # Amostragem:
    limpar()
    print("=" * 50)
    print("ğŸ”® Bem-vindo ao Gerador de Oaths Lendarios! ğŸ”®")
    print("=" * 50)
    Tierslenda()
    
    while True:
    # UsuÃ¡rio irÃ¡ escolher agora dentro da funÃ§Ã£o Gerar_Oath se quer eles aleatÃ³rios ou fixos.
        print("=" * 50)
        print("1. ğŸ”® Gerador AleatÃ³rio! ğŸ”®")
        print("2. ğŸ”® Gerador EspecÃ­fico! ğŸ”®")
        print("=" * 50)

        try:
            e = int(input(">>> "))

            # Fazendo tratamento para caso a escolha do usuÃ¡rio seja incorreta:
            if e < 1 or e > 2:
                print("OpÃ§Ã£o invÃ¡lida! Digite uma opÃ§Ã£o vÃ¡lida!")
                input("Precione ENTER para voltar para o menu ...")
                limpar()
                continue  

            # OpÃ§Ã£o de geraÃ§Ã£o aleatÃ³ria:
            if e == 1:
                while True:
                    try:
                        limite = int(input("âœ¨ Quantos Oath's lendarios vocÃª gostaria de gerar? (Digite um nÃºmero) --> "))
                        break
                    except ValueError:
                        print("Valor invÃ¡lido! Digite uma opÃ§Ã£o vÃ¡lida!")

            # OpÃ§Ã£o de geraÃ§Ã£o especÃ­fica:
            elif e == 2:
                while True:
                    try:
                        tier = int(input("\nQual o tier do Oath Lendario que vocÃª quer gerar? Ex.: 1 seria Branco --> "))
                        limite = int(input("âœ¨ Quantos Oath's vocÃª gostaria de gerar? (Digite um nÃºmero) --> "))
                        break
                    except ValueError:
                        print("Valor invÃ¡lido! Digite uma opÃ§Ã£o vÃ¡lida!")

            break

        except ValueError:
            print("Entrada invÃ¡lida! Por favor, digite um nÃºmero.")
            limpar()

    
    # Inicio:
    for comeco in range(limite):
        
        # Caso tenha escolhido 1 la em cima:
        if e == 1:
            tier = random.randint(6,8)
        
        # Sorteia uma vantagem, uma natureza e um tipo para o Oath:
        vantsort = random.choice(vant)
        estsort = random.choice(est)
        tiposort = random.choice(tipos)
        
        # Sorteia se Ã© ou nÃ£o Ã© Shiny (em, hÃ£m? Ã© ou nÃ£o Ã©?):
        if random.random() < 0.05:
            shiny = 1
        else:
            shiny = 0

        # Sorteia tipos adicionais com 40% de chance:
        if random.random() < 0.4:
            restypes = [tipo for tipo in tipos if tipo != tiposort]
            # Corrigindo para que ele nÃ£o escolha um tipo que o Oath jÃ¡ tenha:
            sectipos = random.choice(restypes) if restypes else None 
        # Caso o sorteio nao der os 40% ele aderir valor Nulo a sectipos:
        else:
            sectipos = None
            
        # Definindo os atributos de forma aleatoria do Tier do Oath escolhido:
        for lendatri in lendario.keys():
            dado = random.choices(valoreslend[tier], pesolend[tier])[0]
            lendario[lendatri] = dado

        # Define os Pv's baseados no Tier:
        if tier == 6:
            Pv = random.randint(6,7)
        elif tier == 7:
            Pv = random.randint(6,8)
        else:
            Pv = random.randint(7,9)
            
        # Define os pontos de vida totais do Oath LendÃ¡rio:
        Pvtotal = Pv + lendario["Durabilidade"]
        
        nome, sexo = Gerar_Nomes_Random()
        
        # ExibiÃ§Ã£o do Oath lendÃ¡rio:
        print("=" * 50)
        print(f"ğŸŒŸ Resultado da GeraÃ§Ã£o do Oath {comeco+1} ğŸŒŸ")
        print("=" * 50)
        print(f"ğŸŒŸNome: {nome}ğŸŒŸ")
        print(F"âš§ Sexo: {sexo}")
        print(f"ğŸ¯ Seu TIER foi: {tier}")
        print("=" * 50)
        print("âœ¨ Atributos do Oath:")
        print("=" * 50)
        
        # Caso o Oath sejÃ¡ shiny:
        if shiny == 1:
            print("ğŸŒŸâœ¨ğŸŒŸâœ¨ Seu Oath Ã© um Shiny ğŸŒŸâœ¨ğŸŒŸâœ¨")
            print("=" * 50)
            Pvtotal+=1
        
        #ExibiÃ§Ã£o dos Atributos:
        for nm in lendario:
            distribuido = 'â€¢' * lendario[nm]
            print(f"ğŸ”¹ {nm}: {distribuido}")
        
        # Demonstra os dados restantes (Pv's, Tipos, Natureza e Vantagens):
        if shiny == 0:
            print(F"â¤ï¸ Pontos de Vida â¤ï¸ : {Pvtotal} = {Pv} + {lendario['Durabilidade']}")
        else: # Caso seja shiny recebe esses dados adicionais:
            print(F"â¤ï¸ Pontos de Vida â¤ï¸ : {Pvtotal} = {Pv} + {lendario['Durabilidade']} + 1 (Shinys recebem este adicional!)")
        
        print(F"Def. Fisica ğŸ›¡ï¸ğŸ›¡ï¸ : {lendario['Durabilidade']}")
        print(F"Def. MÃ¡gica âœ¨ğŸ›¡ï¸ : {lendario['Foco']}")
        
        print("ğŸ¯ Vantagens ğŸ¯")
        print(F"{vantsort}: {vantagens[vantsort]}")
        
        print("ğŸ”¥ğŸ’§ğŸŒ¿TipoğŸŒ¿ğŸ’§ğŸ”¥")
        print(F"Tipagem: {tiposort}", end=" ")
        if sectipos:
            print(F" e {sectipos}")
        else:
            print()
        
        print("âš”ï¸  Estilo de Combate  âš”ï¸")
        print(F"{estsort}: {estilos[estsort]}")
        print("\n" + "=" * 50 + "\n")

        #Garante que o shiny caso seja sorteado resete seu resultado para o prÃ³ximo sorteio:
        shiny = 0
    return tier

# GeraÃ§Ã£o de Oath's Comuns:
def Gerar_Oath():
    
    # Variaveis:
    limite = 0
    tier = 0
    atri = {'ForÃ§a': 0, 'Destreza': 0, 'Poder MÃ¡gico': 0, 'Durabilidade': 0, 'Foco': 0}
    maxatri = {'ForÃ§a': 0, 'Destreza': 0, 'Poder MÃ¡gico': 0, 'Durabilidade': 0, 'Foco': 0}
    e = 0
    
    # Converte as chaves dos dicionÃ¡rios em LISTA para sorteio com random.choice:
    vant = list(vantagens.keys())
    est = list(estilos.keys())
    
    # Amostragem:
    limpar()
    print("=" * 50)
    print("ğŸ”® Bem-vindo ao Gerador de Oaths! ğŸ”®")
    print("=" * 50)
    print("\n")
    Tiercomum()
    
    while True:
    # UsuÃ¡rio irÃ¡ escolher agora dentro da funÃ§Ã£o Gerar_Oath se quer eles aleatÃ³rios ou fixos.
        print("=" * 50)
        print("1. ğŸ”® Gerador AleatÃ³rio! ğŸ”®")
        print("2. ğŸ”® Gerador EspecÃ­fico! ğŸ”®")
        print("=" * 50)

        try:
            e = int(input(">>> "))

            # Fazendo tratamento para caso a escolha do usuÃ¡rio seja incorreta:
            if e < 1 or e > 2:
                print("OpÃ§Ã£o invÃ¡lida! Digite uma opÃ§Ã£o vÃ¡lida!")
                input("Precione ENTER para voltar para o menu ...")
                limpar()
                continue  

            # OpÃ§Ã£o de geraÃ§Ã£o aleatÃ³ria:
            if e == 1:
                while True:
                    try:
                        limite = int(input("âœ¨ Quantos Oath's vocÃª gostaria de gerar? (Digite um nÃºmero) --> "))
                        break
                    except ValueError:
                        print("Valor invÃ¡lido! Digite uma opÃ§Ã£o vÃ¡lida!")

            # OpÃ§Ã£o de geraÃ§Ã£o especÃ­fica:
            elif e == 2:
                while True:
                    try:
                        tier = int(input("\nQual o tier do oath que vocÃª quer gerar? Ex.: 1 seria Branco --> "))
                        limite = int(input("âœ¨ Quantos Oath's vocÃª gostaria de gerar? (Digite um nÃºmero) --> "))
                        break
                    except ValueError:
                        print("Valor invÃ¡lido! Digite uma opÃ§Ã£o vÃ¡lida!")

            break

        except ValueError:
            print("DigitaÃ§Ã£o invÃ¡lida! Por favor, digite corretamente!")
            time.sleep(1)
            limpar()

    # Inicio:
    for comeco in range(limite):
        
        # Caso tenha escolhido aleatorio lÃ¡ em cima:
        if e == 1:
            tier = random.randint(1,5)
        
        # Sorteia uma vantagem, uma natureza e um tipo para o Oath:
        vantsort = random.choice(vant)
        estsort = random.choice(est)
        tiposort = random.choice(tipos)
        
        # Sorteia se Ã© ou nÃ£o Ã© Shiny (em, hÃ£m? Ã© ou nÃ£o Ã©?):
        if random.random() < 0.05:
            shiny = 1
        else:
            shiny = 0

        # Sorteia tipos adicionais com 40% de chance:
        if random.random() < 0.4:
            restypes = [tipo for tipo in tipos if tipo != tiposort]
            # Corrigindo para que ele nÃ£o escolha um tipo que o Oath jÃ¡ tenha:
            sectipos = random.choice(restypes) if restypes else None 
        # Caso o sorteio nao der os 40% ele aderir valor Nulo a sectipos:
        else:
            sectipos = None
            
        # Definindo os atributos maximos de forma aleatoria do Tier do Oath escolhido:
        while True:
            soma=0
            for attr in maxatri.keys():
                dado = random.choices(valores[tier], peso[tier])[0]
                maxatri[attr] = dado
                soma += maxatri[attr]
            total = soma # Salva para mostrar o total de pontos no final.
            # Tratamento fazendo os Oaths nÃ£o passarem do limite para nao ter Oath's com varios atributos altos:
            if limite_minatri[tier] <= soma <= limite_maxatri[tier]:
                break
            
        # DistribuiÃ§Ã£o dos Atributos, com tratamento para determinados valores:
        for attr in maxatri:
            if maxatri[attr] == 4:
                atri[attr] = 2
            elif maxatri[attr] == 7:
                atri[attr] = 3
            elif maxatri[attr] == 8:
                atri[attr] = 4
            elif maxatri[attr] == 9:
                atri[attr] = 5
            else:
                atri[attr] = max(maxatri[attr] - 3, 1)

        # Define os Pv's baseados no Tier:
        if tier == 1:
            Pv = random.randint(2, 3)
        elif tier == 2:
            Pv = random.randint(3, 4)
        elif tier == 3:
            Pv = random.randint(3, 4)
        elif tier == 4:
            Pv = random.randint(4, 5)
        else:
            Pv = random.randint(5, 6)
        
        # Define os Pontos de Vida totais do Oath:
        Pvtotal = Pv + atri['Durabilidade']
        
        # Pegando o nome e o sexo do oath da funÃ§Ã£o Gerar_Nomes_Random:
        nome, sexo = Gerar_Nomes_Random()
       
        # ExibiÃ§Ã£o do Oath:
        print("=" * 50)
        print(f"ğŸŒŸ Resultado da GeraÃ§Ã£o do Oath {comeco+1} ğŸŒŸ")
        print("=" * 50)
        print(f"ğŸŒŸNome: {nome}ğŸŒŸ")
        print(F"âš§ Sexo: {sexo}")
        print(f"ğŸ¯ Seu TIER foi: {tier}\nTotal de Pontos: {total}")
        print("=" * 50)
        print("âœ¨ Atributos do Oath:")
        print("=" * 50)
        
        # Caso o Oath sejÃ¡ shiny:
        if shiny == 1:
            print("ğŸŒŸâœ¨ğŸŒŸâœ¨ Seu Oath Ã© um Shiny ğŸŒŸâœ¨ğŸŒŸâœ¨")
            print("=" * 50)
            Pvtotal+=1
        
        # Demonstra os atributos dos Oath's em bolinhas:
        for nm in maxatri:
            distribuido = 'â€¢' * atri[nm]
            distribuir = 'o' * (maxatri[nm] - atri[nm]) 
            print(f"ğŸ”¹ {nm}: {distribuido}{distribuir}")
               
        # Demonstra os dados restantes (Pv's, Tipos, Natureza e Vantagens):
        if shiny == 0:
            print(F"â¤ï¸ Pontos de Vida â¤ï¸ : {Pvtotal} = {Pv} + {atri['Durabilidade']}")
        else: # Caso seja shiny recebe esses dados adicionais:
            print(F"â¤ï¸ Pontos de Vida â¤ï¸ : {Pvtotal} = {Pv} + {atri['Durabilidade']} + 1 (Shinys recebem este adicional!)")
        # Adicionar aqui >>> Amostragem dos PM's (Pontos de Magia)
        print(F"Def. Fisica ğŸ›¡ï¸ğŸ›¡ï¸ : {atri['Durabilidade']}")
        print(F"Def. MÃ¡gica âœ¨ğŸ›¡ï¸ : {atri['Foco']}")
        print("ğŸ¯ Vantagens ğŸ¯")
        print(F"{vantsort}: {vantagens[vantsort]}")
        print("ğŸ”¥ğŸ’§ğŸŒ¿TipoğŸŒ¿ğŸ’§ğŸ”¥")
        print(F"Tipagem: {tiposort}", end=" ")
        if sectipos:
            print(F" e {sectipos}")
        else:
            print()
        print("âš”ï¸  Estilo de Combate  âš”ï¸")
        print(F"{estsort}: {estilos[estsort]}")
        print("\n" + "=" * 50 + "\n")
        
        #Garante que o shiny caso seja sorteado resete seu resultado para o prÃ³ximo sorteio:
        shiny = 0
    return tier, maxatri, Pvtotal
'''